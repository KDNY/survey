---
description: admin section
globs: 
---

he **Admin Panel** allows administrators to **manage testing items** and ensure the system is properly set up for users. Hereâ€™s a breakdown of the fields the **admin will fill in**:

---

### **ðŸ“Œ Fields for Admin to Fill In**
| **Field Name** | **Description** | **Type** |
|---------------|---------------|---------|
| **Testing Item Name (English)** | The test name in English | Text |
| **Testing Item Name (Second Language)** | The test name in a second language | Text |
| **Reference Range** | The normal range for this test | Text or Number |
| **Measurement Unit** | The unit of measurement (e.g., mg/dL, mmol/L) | Text |
| **Risk Level Thresholds** | Values indicating low, normal, or high risk | Number |
| **Interpretation Guidelines** | Text-based guidance on test results | Text |
| **Additional Notes** | Any additional medical or admin notes | Text |

---

### **ðŸ“Œ Example Testing Items Admin Can Input**
| **Testing Item (EN)** | **Testing Item (Second Language)** | **Reference Range** | **Unit** | **Risk Level Thresholds** |
|----------------------|---------------------------------|----------------|--------|----------------------|
| Blood Viscosity | è¡€æ¶²ç²˜åº¦ | 1.3 - 1.7 | mPaÂ·s | High: >1.7, Low: <1.3 |
| Total Cholesterol (TC) | æ€»èƒ†å›ºé†‡ | 125 - 200 | mg/dL | High: >200, Low: <125 |
| Triglyceride (TG) | ç”˜æ²¹ä¸‰é…¯ | 50 - 150 | mg/dL | High: >150, Low: <50 |
| High-Density Lipoprotein (HDL-C) | é«˜å¯†åº¦è„‚è›‹ç™½ | 40 - 60 | mg/dL | Low: <40 |
| Low-Density Lipoprotein (LDL-C) | ä½Žå¯†åº¦è„‚è›‹ç™½ | 70 - 130 | mg/dL | High: >130 |
| Neutral Fat (MB) | ä¸­æ€§è„‚è‚ª | 3.5 - 5.2 | mmol/L | High: >5.2, Low: <3.5 |
| Circulating Immune Complex (CIC) | å¾ªçŽ¯å…ç–«å¤åˆç‰© | 1.5 - 4.0 | Î¼g/mL | High: >4.0, Low: <1.5 |

---

### **ðŸ“Œ Admin Panel Features**
###**Add/Edit/Delete Testing Items**  
###**Set Reference Ranges & Risk Levels**  
### **Provide Guidelines for Result Interpretation**  
### **View & Manage User Test Data**  
###Create the database schema first
###Start with the admin form
###Set up the table view
###Add the validation logic
###Add admin role to Supabase?
###Add admin management interface
###Add role-based access control to existing components
###Add "Remember me" functionality
###Add password reset option

ALTER TABLE users ADD COLUMN user_metadata JSONB;
UPDATE users
SET user_metadata = user_metadata || '{"email_verified": true, "role": "admin"}'
WHERE email = 'user@example.com';
SELECT user_metadata FROM users WHERE email = 'user@example.com';
   UPDATE users
   SET user_metadata = COALESCE(user_metadata, '{}'::jsonb) || '{"email_verified": true, "role": "admin"}'
   WHERE email = 'user@example.com';

   UPDATE users
   SET raw_user_meta_data = COALESCE(raw_user_meta_data, '{}'::jsonb) || '{"email_verified": true, "role": "admin"}'
   WHERE email = 'kevin@dialpos.com';

SELECT raw_user_meta_data FROM users WHERE email = 'kevin@dialpos.com';
